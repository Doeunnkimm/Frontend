## 24.2 함수 객체의 내부 슬롯 `[[Environment]]`

- 함수가 정의된 환경(위치)과 호출되는 환경(위치)은 다를 수 있다.
- 따라서 렉시컬 스코프가 가능하려면 함수는 자신이 호출되는 환경과는 상관없이 **자신이 정의된 환경, 즉 상위 스코프를 기억**해야 한다.

```
💡 함수는 자신의 내부 슬롯 [[Environment]]에 자신이 정의된 환경, 즉 상위 스코프의 참조를 저장
```

```js
const x = 1

function foo() {
    const x = 10

    // 상위 스코프는 함수 정의 환경(위치)에 따라 결정된다.
    // 함수 호출 위치와 상위 스코프는 아무런 관계가 없다.
    bar()
}

// 함수 bar는 자신의 상위 스코프, 즉 전역 렉시컬 환경 [[Environment]]에 저장하여 기억한다.
function bar() {
    console.log(x)
}

foo()
bar()
```