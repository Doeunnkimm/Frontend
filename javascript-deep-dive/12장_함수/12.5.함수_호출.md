## 12.5 함수 호출

- 함수는 함수를 가리키는 식별자와 한 쌍의 소괄호인 함수 호출 연산자로 호출한다.
- 함수 호출 연산자 내에는 0개 이상의 인자를 쉼표로 구분해서 나열
- 함수를 호춣하면 **현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮긴다.**
- 이때 매개변수에 인수가 순서대로 할당되고 함수 몸체의 문들이 실행되기 시작한다.

### 매개변수와 인수

- 함수를 실행하기 위해 필요한 값을 함수 외부에서 함수 내부로 전달할 필요가 있는 경우, 매개변수를 통해 인수를 전달한다.
- 인수는 값으로 평가될 수 있는 표현식이어야 한다.
- 인수는 함수를 호출할 때 지정하며, 개수와 타입에 제한이 없다.

```js
// 함수 선언문
function add(x, y) {
    return x + y
}

// 함수 호출
// 인수 1과 2가 매개변수 x와 y에 순서대로 할당되고 함수 몸체의 문들이 실행된다.
var result = add(1, 2)
```

- 매개변수는 함수를 정의할 때 선언
- 함수 몸체 내부에서 변수와 동일하게 취급
- 즉, 함수가 호출되면 함수 몸체 내에서 암묵적으로 매개변수가 생성되고 일반 변수와 마찬가지로 undefined가 초기화된 이후 인수가 순서대로 할당된다.
- 함수가 호출될 때마다 매개변수는 이와 같은 단계를 거친다.

<p align="center"><img src="https://velog.velcdn.com/images%2Fhang_kem_0531%2Fpost%2Fcce64fd5-0e44-4063-aab3-cc1d60dd567d%2Fimage.png" width="400"/></p>

- 매개변수는 함수 몸체 내부에서만 참조할 수 있고
- 함수 몸체 외부에서는 참조할 수 없다.
- 즉, 매개변수의 스코프는 함수 내부이다.

```js
function add(x, y) {
    console.log(x, y) // 2, 5
    return x + y
}

add(2, 5)

// add 함수의 매개변수 x, y는 함수 몸체 내부에서만 참조할 수 있다.
console.log(x, y) // ReferenceError: x is not defined
```

- 함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않는다.
- 즉, 함수를 호출할 때 매개변수의 개수만큼 인수를 전달하는 것이 일반적이지만
- 그렇지 않은 경우에도 에러가 발생하지 않는다.
- 인수가 부족해서 인수가 할당되지 않은 매개변수는 undefined이다.

```js
function add(x, y) {
    return x + y
}

console.log(add(2)) // NaN
```

- 매개변수보다 인수가 더 많은 경우 초과된 인수는 무시된다.

```js
function add(x, y) {
    return x + y
}

console.log(add(2, 5, 10)) // 7
```

- 사실 초과된 인수가 그냥 버려지는 것은 아니다.
- 모든 인수는 암묵적으로 arguments 객체의 프로퍼티로 보관된다.

### 인수 확인

```js
function add(x, y) {
    return x + y
}
```

- 위 함수를 정의한 개발자의 의도는 아마도 2개의 숫자 타입 인수를 받아 그 합계를 반환하려는 것으로 추측
- 하지만 코드상으로는 어떤 타입의 인수를 전달해야 할지, 어떤 타입의 값을 반환하는지 명확하지 않다.

```js
function add(x, y) {
    return x + y
}

console.log(add(2)) // NaN
console.log(add('a', 'b')) // 'ab'
```

- 자바스크립트의 경우 함수를 정의할 때 적절한 인수가 전달되었는지 확인할 필요가 있다.

```js
function add(x, y) {
    if (typeof x !== 'number' || typeof y !== 'number') {
        throw new TypeError('인수는 모두 숫자 값이어야 합니다.')
    }

    return x + y
}

console.log(add(2)) // TypeError: 인수는 모두 숫자 값이어야 합니다.
console.log(add('a', 'b')) // TypeError: 인수는 모두 숫자 값이어야 합니다.
```

### 매개변수의 최대 개수

- ECMAScript 사양에서는 매개변수의 최대 개수에 대해 명시적으로 제한 X
- 하지만 물리적 한계는 있으므로 자바스크립트 엔진마다 매개변수의 최대 개수에 대한 제한이 있겠지만 충분히 많이 매개변수를 사용할 수 있다.
- 그렇다면 최대 몇 개까지 사용하는 것이 좋을까?
- 매개변수는 순서에 의미가 있다.
- 따라서 매개변수가 많아지면 함수를 호출할 때ㅐ 전달해야 할 인수의 순서를 고려해야 한다.
- 이는 함수의 사용법을 이해하기 어렵게 만들고 실수를 발생시킬 가능성을 높인다.
- 또한 매개변수의 개수나 순서가 변경되면 함수의 호출 방법도 바뀌므로 함수를 사용하는 코드 전체가 영향을 받는다.

```
💡 이상적인 함수는 한 가지 일만 해야 하며 가급적 작게 만들어야 한다.
```

- 따라서 매개변수는 최대 3개 이상을 넘지 않는 것을 권장한다.

### 반환문

- 함수는 `return` 키워드와 표현식(반환값)으로 이뤄진 반환문을 사용해 실행 결과를 함수 외부로 반환할 수 있다.

```js
function multiply(x, y) {
    return x * y // 반환문
}

// 함수 호출은 반환값으로 평가된다.
var result = multiply(3, 5)
console.log(result) // 15
```

- 함수 호출은 표현식이다.
- 함수 호출은 return 키워드가 반환한 표현식의 평가 결과, 즉 반환값으로 평가된다.
- 반환문은 두 가지 역할을 한다.
  ```
  1. 함수의 실행을 중단하고 함수 몸체를 빠져나간다.
  2. return 키워드 뒤에 오는 표현식을 평가해 반환한다.
  ```

- 반환문을 생략하면 undefined를 반환한다.