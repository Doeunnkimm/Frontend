## 23.2 소스코드의 평가와 실행

- 모든 소스코드는 실행에 앞서 **평가 과정**을 거치며 코드를 실행하기 위한 준비를 한다.

```
💡 자바스크립트 엔진은 소스코드를 2개의 과정
   즉, "소스코드의 평가", "소스코드의 실행" 과정으로 나누어 처리한다.
```

- 소스코드 평가 과정에서는 **실행 컨텍스트를 생성**하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 **실행 컨텍스트가 관리하는 스코프에 등록**한다.
- 소스코드 평가 과정이 끝나면 비로소 선언문을 제외한 소스코드가 순차적으로 실행되기 시작한다.
- 즉, 런타임이 시작된다.
- 이때 소스코드 실행에 필요한 정보, 즉 변수나 함수의 참조를 **실행 컨텍스트가 관리하는 스코프에서 검색해서 취득**한다.
- 그리고 변수 값의 변경 등 소스코드의 실행 결과는 다시 실행 컨텍스트가 관리하는 스코프에 등록된다.

<p align="center"><img src="https://velog.velcdn.com/images%2Fhangem422%2Fpost%2Ffbef7e69-646e-444f-86c6-86c6fe64c8df%2Fjavascript-context01.png" width="400"/></p>

```js
var x;
x = 1;
```

- 자바스크립트 엔진은 위 예제를 2개의 과정으로 나누어 처리한다.
- 먼저 소스코드 평가 과정에서 변수 선언문 `var x;`를 먼저 실행한다.
- 이때 생성된 변수 식별자 x는 실행 컨텍스트가 관리하는 스코프에 등록되고 undefined로 초기화된다.
- 소스코드 평가 과정이 끝나면 비로소 소스코드 실행 과정이 시작된다.
- 변수 선언문 `var x;`는 소스코드 평가 과정에서 이미 실행이 완료되었다.
- 따라서 소스코드 실행 과정에서는 변수 할당문 `x = 1;`만 실행된다.
- 이때 x 변수에 값을 할당하려면 먼저 x 변수가 선언된 변수인지 확인해야 한다.
- 이를 위해 실행 컨텍스트가 관리하는 스코프에 x 변수가 등록되어 있는지 확인한다.
- 다시말해, x 변수가 선언된 변수인지 확인한다.
- x 변수가 선언된 변수라면 값을 할당하고 할당 결과를 실행 컨텍스트에 등록하여 관리한다.