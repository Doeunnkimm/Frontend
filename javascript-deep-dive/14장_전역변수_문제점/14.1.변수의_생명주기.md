## 14.1 변수의 생명 주기

### 지역 변수의 생명 주기

- 변수는 선언에 의해 생성되고 할당을 통해 값을 갖는다.
- 그리고 언젠간 소멸한다.
- 변수에 생명주기가 없다면 한번 선언된 변수는 프로그램을 종료하지 않는 한 영원히 메모리 공간을 점유하게 된다.

```
💡 변수는 자신이 선언된 위치에서 생성되고 소멸한다.
```

- 함수 내부에서 선언된 지역 변수는 함수가 호출되면 생성되고 함수가 종료되면 소멸한다.

```js
function foo() {
    var x = 'local'
    console.log(x)
    return x
}

foo()
console.log(x) // ReferenceError: x is not defined
```

- 지역변수 x는 foo **함수가 호출**되기 이전까지는 생성되지 않는다.
- foo 함수를 호출하면 함수 몸체의 다른 문들이 순차적으로 실행되기 이전에 x 변수의 선언문이 자바스크립트 엔진에 의해 가장 먼저 실행되어 x 변수가 선언되고 undefined로 초기화된다.
- 함수 내부에서 선언된 지역변수 x는 foo 함수가 호출되어 실행되는 동안에만 유효하다.
- 즉, **지역 변수의 생명주기는 함수의 생명주기와 일치**한다.

```
💡 함수 내부에서 선언된 지역 변수는 함수가 생성한 스코프에 등록된다.
```

- 변수는 자신이 등록된 스코프가 소멸(메모리 해제)될 때까지 유효하다.

```js
var x = 'global'

function foo() {
    console.log(x) // undefined (지역변수를 참조할 것이다)
    var x = 'local'
}

foo()
console.log(x) // global
```

### 전역 변수의 생명 주기

---
**🚦 전역 객체**

- 전역 객체는 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체
- window, global 객체 같은

---

```
💡 전역 변수의 생명주기는 전역 객체의 생명 주기와 일치한다.
```